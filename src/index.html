<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="./jquery-ui-1.11.4/jquery-ui.css">
    <link rel="stylesheet" href="./bootstrap-3.3.6-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./datachief.css">
    <script src="winstate.js"></script>
    <script>
        window.$ = window.jQuery = require('./jquery-ui-1.11.4/external/jquery/jquery.js');
        require('./jquery-ui-1.11.4/jquery-ui.min.js');
        var userSettings = require("./userSettings.js")
        userSettings.ctor();
        var index = require("./index.js");
        var publish = require("./publish.js");
        var imap = require("./imap.js");
        var helper = require("./objectmodel/utils.js");
    </script>
    <script src='ctlBox.js'></script>
    <script src='menu.js'></script>
    <script src="packageContextMenu.js" type="text/javascript"></script>
    <script src="jquery-taphold/taphold.js" type="text/javascript"></script>
    <script src="jquery.ui-contextmenu/jquery.ui-contextmenu.min.js" type="text/javascript"></script>
    <script src='jqPropertyGrid/jqPropertyGrid.js'></script>

    <link rel='stylesheet' href='jqPropertyGrid/jqPropertyGrid.css' />
</head>

<body>
    <script>
        var remote = require('remote'); 
        var dialog = remote.require('dialog');
    </script>
    <div>

        <div id="newFormDialog" title="New Form">
            <form>
                <fieldset class="ui-helper-reset">
                    <label for="tab_title">Form name</label>
                    <br> Please enter name for your form
                    <input type="text" name="tab_title" id="tab_title" style="width:100%;" value="" class="ui-widget-content ui-corner-all">
                    <br />
                    <br />
                    <label for="exampleforms">You can choose one of provided example forms:</label>
                    <select style="width:435px;" id="exampleforms">
                    </select>
                    <br />
                    <br />
                </fieldset>
            </form>
        </div>
        <div id="editOrgMember" title="Organization member" style="display:none;">
            <fieldset class="ui-helper-reset">
                <label for="editOrgMemberEmail">User Email</label>
                <br> Please enter user Email
                <input type="email" id="editOrgMemberEmail" style="width:100%;" value="" class="ui-widget-content ui-corner-all">
                <br />
                <label for="editOrgMemberName">User Name</label>
                <br> Please enter user Name
                <input type="text" id="editOrgMemberName" style="width:100%;" value="" class="ui-widget-content ui-corner-all">
                <br />
                <label for="editOrgMemberSecret">User Secret</label>
                <br> Please enter user Secret
                <button id="editOrgMemberShowPassword" style="float:right">Show/hide secret</button>
                <br>
                <br>
                <input type="password" id="editOrgMemberSecret" style="width:100%;" value="" class="ui-widget-content ui-corner-all">
                <br />
                <label for="editOrgMemberSecret1">User Email</label>
                <br> Please enter name for your form
                <input type="password" id="editOrgMemberSecret1" style="width:100%;" value="" class="ui-widget-content ui-corner-all">
                <br />
                <br />

            </fieldset>

        </div>
        <div id="dialog-confirm-remove-tab" style="display:none;" title="Delete not saved Form?">
            <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Form has not been saved.
                Are you sure you want to delete it?</p>
        </div>
        <div id="dialog-confirm-remove-field" style="display:none;" title="Delete field?">
            <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Are You sure?</p>
        </div>
        <div id="dialog-confirm" style="display:none;" title="Are You sure?">
            <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span><span id="dialog-confirm-text">Are You sure?</span></p>
        </div>
        <div id="dialog-validation-ok" style="display:none;" title="Validation OK">
            <p>
                <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span> Validation is
                Success!
            </p>
            <p>
                Form is <b>filled out correctly</b>.
            </p>
        </div>
        <div id="dialog-alert" style="display:none;" title="Alert">
            <p>
                <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 50px 0;"></span> <span id="dialog-alert-text"></span>
            </p>
        </div>
        <div id="dialog-validation-failed" style="display:none;" title="Validation OK">
            <p>
                <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 50px 0;"></span> Validation Failed!
            </p>
            <p>
                Form is <b>not correctly filled out</b>.
            </p>
        </div>

        <div id="maintabs">

            <ul>
                <li><a href="#maintabs-1">Form & workflow editor</a></li>
                <li><a href="#maintabs-2">Publisher</a></li>
                <li><a href="#maintabs-3">Filler</a></li>
                <li><a href="#maintabs-4">Data collection</a></li>
                <li><a href="#maintabs-5">Settings</a></li>
                <li><a href="#maintabs-6">About</a></li>
            </ul>
            <div id="maintabs-1" class="fixmyheight">
                <button id="add_form">Create Form</button>
                <button id="open_form">Open Form</button>
                <div id="tabs" style="background-image:url('../icons/DesignerGray.png');background-repeat: no-repeat;background-position: center center;height:90%;">
                    <ul></ul>
                </div>
            </div>

            <div id="maintabs-2" class="fixmyheight">

                <div style="height:100%;">
                    <div class="row" style="height:70%;">
                        <div class="col-sm-4" style="height:100%;">
                            <div class="row" style="height:8%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <label for="prepublishList">Prepublish folder</label>
                                </div>
                            </div>
                            <div class="row" style="height:10%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <button id="button2Publish" style="float:right;">Move</button>
                                    <button id="buttonDeletePrepublished" style="float:right;">Delete</button>
                                    <button id="buttonEditPrepublished" style="float:right;">Edit</button>
                                </div>
                            </div>
                            <div class="row" style="height:82%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <div id="prepublishList" style="height:100%;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4" style="text-align:center;height:100%;">
                            <div class="row" style="height:8%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <label for="publishList">Publish folder</label>
                                </div>
                            </div>
                            <div class="row" style="height:10%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <button id="button2Prepublish" style="float:left">Move</button>
                                    <button id="buttonPublish" style="float:right;">Publish all</button>
                                </div>
                            </div>
                            <div class="row" style="height:82%;">
                                <div class="col-sm-12" style="text-align:center;height:100%;">
                                    <div id="publishList" style="height:100%;text-align:left;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4" style="height:100%;">
                            <div class="row" style="height:8%;">
                                <div class="col-sm-12" style="height:100%;text-align:right;">
                                    <label for="outboxList">Outbox - sending</label>
                                </div>
                            </div>
                            <div class="row" style="height:10%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <button id="buttonClearOutbox" style="float:right;">Clear Outbox</button>
                                    <button id="buttonSendPackages" style="float:right;">Send</button>
                                </div>
                            </div>
                            <div class="row" style="height:82%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <div id="outboxList" style="height:100%;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="height:30%;">
                        <div class="col-sm-12" style="height:100%;">
                            <div id="logList" style="margin-top:10px;box-sizing: border-box; width:100%;height:100%;overflow:auto;">
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div id="maintabs-3" class="fixmyheight">
                <div class="row" style="height:100%">
                    <div class="col-sm-2" style="height:100%">
                        <ul id="fillerTree" style="width:100%;padding-left:0px;">

                            <li style="width:100%"><a style="width:100%" href="#">Published to me</a>
                                <ul>
                                    <li><a style="width:100%" href="#">Publisher 1</a>
                                        <ul>
                                            <li>Test1</li>
                                            <li>tewt</li>
                                        </ul>
                                    </li>
                                    <li><a style="width:100%" href="#">Publisher 2</a>
                                        <ul>
                                            <li>Test1</li>
                                            <li>tewt</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li style="width:100%"><a style="width:100%" href="#FillerVtabs-2">Recieved from other employees</a>
                                <ul>
                                    <li>Test1</li>
                                    <li>tewt</li>
                                </ul>
                            </li>
                            <li style="width:100%"><a style="width:100%" href="#FillerVtabs-3">Work / half-filled</a>
                                <ul>
                                    <li>Test1</li>
                                    <li>tewt</li>
                                </ul>
                            </li>
                            <li style="width:100%"><a style="width:100%" href="#FillerVtabs-3">Sent forms</a>
                                <ul>
                                    <li>Test1</li>
                                    <li>tewt</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="col-sm-10" style="height:100%;border: 1px solid red;">
                        fdslfp≈°dw
                    </div>
                </div>
            </div>

            <div id="maintabs-4" class="fixmyheight">
                <p>Data collection & analysis</p>
                <p>Please choose form:</p>
                <select>
                    <option>dsadasdas</option>
                    <option>e12e23</option>
                    <option>r432rr43r34t</option>
                </select>
                <button>Export data</button>
                <button>Delete data</button>
            </div>
            <div id="maintabs-5" class="fixmyheight">
                <h1>Application settings</h1>
                <div class="row">
                    <div class="col-sm-6">
                        <fieldset id="settingsField">
                            <legend>User information</legend>
                            <p>Enter your email and Name</p>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsEmail">Your Email: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="email" class="datachiefFieldText" id="textSettingsEmail" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsName">Your name: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="text" class="datachiefFieldText" id="textSettingsName" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsUSerSecret">Your secret: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="password" class="datachiefFieldText" id="textSettingsUSerSecret" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsUSerSecret1">Repeat Your secret: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="password" class="datachiefFieldText" id="textSettingsUSerSecret1" />
                                </div>
                            </div>
                        </fieldset>
                        <fieldset id="settingsOrg">
                            <legend>Organization</legend>
                            <p>Important info about your organization</p>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsOrganization">Comapny or Organization: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="text" class="datachiefFieldText" id="textSettingsOrganization" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsOrganizationSecret">Organization secret: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="password" class="datachiefFieldText" id="textSettingsOrganizationSecret" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsOrganizationSecret1">Repeat organization secret: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="password" class="datachiefFieldText" id="textSettingsOrganizationSecret1" />
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsOrganizationSecret1">Organization Members: </label>
                                </div>
                                <div class="col-sm-8">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            Email
                                        </div>
                                        <div class="col-sm-4">
                                            Name
                                        </div>
                                        <div class="col-sm-4">
                                        </div>
                                    </div>
                                    <div class="row">

                                        <div class="col-sm-12">
                                            <hr />
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <button id="addOrgMember" style="float:right;">Add organization member</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                    </div>
                    <div class="col-sm-6">
                        <fieldset id="settingsApp">
                            <legend>Behavior</legend>
                            <p>Data Chief config</p>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="checkboxSettingsSingleAccount">Use single IMAP account for everything </label>
                                </div>
                                <div class="col-sm-8">
                                    <input disabled="disabled" type="checkbox" onchange="userSettings.singleAccountToggle()" class="datachiefFieldText" id="checkboxSettingsSingleAccount"
                                    />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="checkboxSettingsTakeOnlyOne">Take only one message</label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class="datachiefFieldText" id="checkboxSettingsTakeOnlyOne" />
                                </div>
                            </div>
                        </fieldset>
                        <fieldset id="IMAPSettings">
                            <legend>IMAP Settings</legend>
                            <p>IMAP is used for managing mailbox folder</p>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsIMAPUsername">IMAP Username: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="email" class="datachiefFieldText" id="textSettingsIMAPUsername" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsIMAPPassword">IMAP Password: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="password" class="datachiefFieldText" id="textSettingsIMAPPassword" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsIMAPServer">IMAP Server: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="text" class="datachiefFieldText" id="textSettingsIMAPServer" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsIMAPServerPort">IMAP Server port: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="number" min="0" max="65535" class="datachiefFieldText" id="textSettingsIMAPServerPort" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsIMAPRequiresSSL">IMAP Requires SSL: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class="datachiefFieldText" id="textSettingsIMAPRequiresSSL" />
                                </div>
                            </div>

                        </fieldset>

                        <fieldset id="SMTPSettings">
                            <legend>SMTP Settings</legend>
                            <p>SMTP is used for sending Emails</p>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsSMTPRequiresAuthentication">SMTP Requires authentication: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class="datachiefFieldText" id="textSettingsSMTPRequiresAuthentication" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsSMTPUsername">SMTP Username: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="email" class="datachiefFieldText" id="textSettingsSMTPUsername" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsSMTPPassword">SMTP Password: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="password" class="datachiefFieldText" id="textSettingsSMTPPassword" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsSMTPServer">SMTP Server: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="text" class="datachiefFieldText" id="textSettingsSMTPServer" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsSMTPServerPort">SMTP Server port: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="number" min="0" max="65535" class="datachiefFieldText" id="textSettingsSMTPServerPort" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsSMTPRequiresSSL">SMTP Requires SSL: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class="datachiefFieldText" id="textSettingsSMTPRequiresSSL" />
                                </div>
                            </div>


                        </fieldset>
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <button id="resettings" onclick="userSettings.toGui();">Reset</button>&nbsp;
                        <button id="savesettings" onclick="userSettings.fromGui();userSettings.save();">Apply</button>
                    </div>

                </div>
            </div>
            <div id="maintabs-6" class="fixmyheight">
                <div style="height:100%;">
                    <img src="../icons/Filler.png" style="float:left;padding-right:24px;;padding-top:12px;" />
                    <br>
                    <p>Version: <strong id="about_ver">.</strong></p>
                    <p>Author: <strong id="about_author">.</strong></p>
                    <p>Released under: <strong id="about_lic">.</strong></p>
                    <p>Get the source code <a href="http://www.github.com/iivanic/datachief" target="_blank">from GitHub</a>.</p>
                    <p id="description">...</p>
                </div>

            </div>

        </div>
        <div style="height:30px;width:100%;font-weight:bold;background-color:white;border: 1px solid silver;text-align:right;padding-right:15px;padding-left:15px;padding-top:2px;">
            <div style="width:200px;float:right">
                <div id="progressbar" style="height:1.5em;"></div>
            </div>
            <div id="statusbar-message" style="width:200px;float:right;padding-right:10px;">Ready.</div>
        </div>
    </div>



</body>


</html>