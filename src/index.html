<!DOCTYPE html>
<html>

<head>
    <link type="text/css" rel="stylesheet" href="./jquery-ui-1.11.4/jquery-ui.css">
    <link type="text/css" rel="stylesheet" href="./bootstrap-3.3.6-dist/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="./datachief.css">
    <link type="text/css" rel="stylesheet" href="./jquery.steps-1.1.0//jquery.steps.css">
    <link type="text/css" rel="stylesheet" href="./jsgrid-1.5.3/jsgrid.min.css" />
    <link type="text/css" rel="stylesheet" href="./jsgrid-1.5.3/jsgrid-theme.min.css" />


    <script>

        var imapTimer = null;
        window.$ = window.jQuery = require('./jquery-ui-1.11.4/external/jquery/jquery.js');
        require('./jquery-ui-1.11.4/jquery-ui.min.js');
        var startwizardsteps = require("./startwizardsteps.js");
        var helper = require("./objectmodel/utils.js");
        var publish = require("./publish.js");
        var userSettings = require("./userSettings.js")
        userSettings.ctor();
        var sent = require("./sent.js");
        var imap = require("./imap.js");
        var filler = require("./filler.js");
        var package = require("./package.js");
        var barrique = require("./barriqueworks.js");
        var index = require("./index.js");
        var querysteps = require("./jquery.steps-1.1.0/jquery.steps.js");
        var collector = require("./collector.js");
        var dataCollection = require("./dataCollection.js");

        const ipcRenderer = require("electron").ipcRenderer;

        var mermaid = require("mermaid");

        window.onbeforeunload = function (e) {
            ipcRenderer.send("close-PDF-win");
        };

        $.validator = jQuery.validator = require("jquery-validation");


    </script>
    <script src='ctlBox.js'></script>
    <script src='menu.js'></script>
    <script src="packageContextMenu.js" type="text/javascript"></script>
    <script src="jquery-taphold/taphold.js" type="text/javascript"></script>
    <script src="jquery.ui-contextmenu/jquery.ui-contextmenu.min.js" type="text/javascript"></script>
    <script src='jqPropertyGrid/jqPropertyGrid.js'></script>



    <script type="text/javascript" src="./jsgrid-1.5.3/jsgrid.min.js"></script>

    <script>
        function sendCommandToWorker(content) {
            ipcRenderer.send("printPDF", content);
        }
    </script>

    <link rel='stylesheet' href='jqPropertyGrid/jqPropertyGrid.css' />
    <style>
        .no-close .ui-dialog-titlebar-close {
            display: none;
        }
    </style>
</head>

<body>
    <script>
        var remote = require('electron').remote;
        var dialog = remote.dialog;
    </script>
    <div>

        <div id="startDialog" style="display:none;" title="Welome to DataChief!">
            <form id="wizardForm">
                <div id="startwizard">
                    <h3 id="step0Caption">Form Designer and Publisher</h3>
                    <section id="step0">
                        <h2>Let's get started in few easy steps!</h2>
                        <p>Are you planing to use DataChief on this computer as Client only (You will be able to recive and
                            fill out forms) or do you want ability to design and publish Your own forms?</p>
                        <input type="radio" name="Startdesigner" id="Startdesigner1" value="1" style="display:inline;" />
                        <label for="Startdesigner1">Client Only (typical choice)</label>
                        <br>
                        <input type="radio" name="Startdesigner" id="Startdesigner2" value="2" style="display:inline;" />
                        <label for="Startdesigner2">Enable Form Designer and Publisher (for Admins in your organization)</label>
                    </section>
                    <h3 id="step1Caption">Company</h3>
                    <section id="step1">
                        <h2>Please enter Your Company information</h2>
                        <label for="startDialogCompanyName">Enter Your Organization or Company Name *</label>
                        <input id="startDialogCompanyName" name="startDialogCompanyName" type="text" data-validation-required-message="Organization name is Required"
                            required class="required fullwidth">
                        <br>
                        <label for="startDialogCompanPassword">Organization secret (recommended)</label>
                        <p>This ensures that someone else can not claim to be Your organizations Publisher.</p>
                        <p>
                            DataCheif sends digest of this secret within every package. First time user recieve Package
                            <strong>she or he can approve or disapprove publisher by accepting/refusing this digest.</strong>
                        </p>
                        <p>
                            <strong>If publisher later changes Organization secret, user will be again prompted wheather she or he
                                accepts digest(publisher).</strong> Before accepting, user should confirm with publisher
                            that change of Organization secret is really happening and that this is not case of malicious
                            attack.
                        </p>
                        <input id="startDialogCompanPassword" name="startDialogCompanPassword" type="password" class="fullwidth">
                        <p>Repeat organization secret.</p>
                        <input id="startDialogCompanPassword1" name="startDialogCompanPassword1" type="password" class="fullwidth">
                    </section>
                    <div style="display:none">
                        <!-- disable multiple accounts option for now -->
                        <h3 id="step2Caption">DataChief Mode</h3>
                        <section id="step2">
                            <h2>Operating Mode</h2>
                            <label for="appMode">DataChief can work in two basic modes. First one, Single IMAP account is simple and recommended
                                for testing and learning. Drawback is lower security. Per user accoun mode requires one IMAP
                                account per user, which makes it more secure but more complicated to setup.</label>
                            <br>
                            <br>
                            <input type="radio" name="appMode" id="startDialogappMode1" value="1" style="display:inline;" />
                            <label for="startDialogappMode1">
                                <strong>Single user account</strong> - For all communucation use only
                                <strong>one IMAP account</strong>
                            </label>
                            <br>
                            <input type="radio" name="appMode" id="startDialogappMode2" value="2" style="display:inline;" />
                            <label for="startDialogappMode2">
                                <strong>Per user account</strong> (advanced and more secure).</label>

                        </section>
                    </div>
                    <h3 id="step3Caption">Your Name and Email</h3>
                    <section id="step3">
                        <h2>Enter Your information.</h2>
                        <label for="startDialogName">Name *</label>
                        <input id="startDialogName" name="startDialogName" type="text" required class="required fullwidth">
                        <br>
                        <label for="startDialogemail">Email *</label>
                        <input id="startDialogemail" name="startDialogemail" type="email" required class="required email fullwidth">
                        <br>
                        <label for="startDialogUserSecretl1">Shared Secret</label>
                        <p>Secret is shared among every member of the organization to encrypt and decrypt communication packages.</p>
                        <input id="startDialogUserSecretl1" name="startDialogUserSecretl1" required type="password" class="required fullwidth">
                        <label for="startDialogUserSecretl2">Repeat Secret</label>
                        <input id="startDialogUserSecretl2" name="startDialogUserSecretl2" required type="password" class="required fullwidth">
                    </section>
                    <h3 id="step4Caption">Communication (IMAP)</h3>
                    <section id="step4">
                        <h2>Set Up IMAP (Email) Account.</h2>
                        <label for="step4textSettingsIMAPUsername">IMAP Username: </label>
                        <br>
                        <input type="email" id="step4textSettingsIMAPUsername" name="step4textSettingsIMAPUsername" required class="required fullwidth"
                        />
                        <br>
                        <label for="step4textSettingsIMAPPassword">IMAP Password: </label>
                        <br>
                        <input type="password" id="step4textSettingsIMAPPassword" name="step4textSettingsIMAPPassword" required class="required fullwidth">
                        <br>
                        <label for="step4textSettingsIMAPPassword1">Repeat IMAP Password: </label>
                        <br>
                        <input type="password" id="step4textSettingsIMAPPassword1" name="step4textSettingsIMAPPassword1" required class="required fullwidth">
                        <br>
                        <label for="step4textSettingsIMAPServer">IMAP Server: </label>
                        <br>
                        <input type="text" id="step4textSettingsIMAPServer" name="step4textSettingsIMAPServer" required class="required fullwidth"
                        />
                        <br>
                        <label for="step4textSettingsIMAPServerPort">IMAP Server port: </label>
                        <br>
                        <input type="number" min="0" max="65535" id="step4textSettingsIMAPServerPort" name="step4textSettingsIMAPServerPort" required
                            class="required fullwidth">
                        <br>
                        <label for="step4textSettingsIMAPRequiresSSL">IMAP Requires SSL: </label>
                        <br>
                        <input type="checkbox" id="step4textSettingsIMAPRequiresSSL" name="step4textSettingsIMAPRequiresSSL" required class="required">
                        <button onclick="userSettings.imapTest();return false;" style="float:right;" name="IMAPTest" id="IMAPTest">Test IMAP settings</button>
                    </section>
                    <h3 id="step5Caption">Communication (SMTP)</h3>
                    <section id="step5">
                        <h2>Set Up SMTP Account.</h2>

                        <label for="step5SettingsSMTPRequiresAuthentication">Requires Authentication: </label>

                        <input type="checkbox" id="step5SettingsSMTPRequiresAuthentication" name="step5SettingsSMTPRequiresAuthentication" onclick="startwizardsteps.smtpAuthClick();"
                        />
                        <br>
                        <label for="step5textSettingsSMTPUsername">SMTP Username: </label>
                        <br>
                        <input type="email" id="step5textSettingsSMTPUsername" name="step5textSettingsSMTPUsername" required class="required fullwidth"
                        />
                        <br>
                        <label for="step5textSettingsSMTPPassword">SMTP Password: </label>
                        <br>
                        <input type="password" id="step5textSettingsSMTPPassword" name="step5textSettingsSMTPPassword" required class="required fullwidth">
                        <br>
                        <label for="step5textSettingsSMTPPassword1">Repeat SMTP Password: </label>
                        <br>
                        <input type="password" id="step5textSettingsSMTPPassword1" name="step5textSettingsSMTPPassword1" required class="required fullwidth">
                        <br>
                        <label for="step5textSettingsSMTPServer">SMTP Server: </label>
                        <br>
                        <input type="text" id="step5textSettingsSMTPServer" name="step5textSettingsSMTPServer" required class="required fullwidth"
                        />
                        <br>
                        <label for="step5textSettingsSMTPServerPort">SMTP Server port: </label>
                        <br>
                        <input type="number" min="0" max="65535" id="step5textSettingsSMTPServerPort" name="step5textSettingsSMTPServerPort" required
                            class="required fullwidth">
                        <br>
                        <label for="step5textSettingsSMTPRequiresSSL">SMTP Requires SSL: </label>

                        <input type="checkbox" id="step5textSettingsSMTPRequiresSSL" name="step5textSettingsSMTPRequiresSSL" required class="required">
                        <button onclick="userSettings.smtpTest();return false;" style="float:right;" name="SMTPTest" id="SMTPTest">Test SMTP settings</button>
                    </section>
                    <h3 id="step6Caption">Case Study</h3>
                    <section id="step6">
                        <h2>Case Study users</h2>
                        <label for="addRemoveCaseStudyProfilesWizard">Add Case Study users to DataChief automatically for simpler use of "
                            <a href='https://github.com/iivanic/DataChief/blob/master/Case%20study%20Barrique%20Works%20LLC.md'>Barrique Works LLC Case study</a>" document.</label>
                        <br>
                        <br>
                        <buttom id="addRemoveCaseStudyProfilesWizard">Add Barrique Works LLC Case study Profiles</buttom>
                    </section>
                    <h3 id="step7Caption">Finish</h3>
                    <section id="step7">
                        <h2>Now You are ready to start!</h2>
                    </section>
                </div>
                <input type="submit" id="formsubmit" style="display: none;" />
            </form>
        </div>
        <div id="newFormDialog" title="New Form">
            <form>
                <fieldset class="ui-helper-reset">
                    <label for="tab_title">Form name</label>
                    <br> Please enter name for your form
                    <input type="text" name="tab_title" id="tab_title" style="width:100%;" value="" class="ui-widget-content ui-corner-all">
                    <br />
                    <br />
                    <label for="exampleforms">You can choose one of provided example forms:</label>
                    <select style="width:435px;" id="exampleforms">
                    </select>
                    <br />
                    <br />
                </fieldset>
            </form>
        </div>
        <div id="IMAPTestDialog" title="Test IMAP settings" style="display:none;">
            <form>
                <fieldset class="ui-helper-reset">
                    <label for="tab_title">IMAP:</label>
                    <select id="IMAPTestDialogLog" multiple="multiple" style="width:100%; height: 250px;"></select>
                </fieldset>
            </form>
        </div>
        <div id="SMTPTestDialog" title="Test SMTP settings" style="display:none;">
            <form>
                <fieldset class="ui-helper-reset">
                    <label for="tab_title">SMTP:</label>
                    <select id="SMTPTestDialogLog" multiple="multiple" style="width:100%; height: 250px;"></select>
                </fieldset>
            </form>
        </div>
        <div id="editOrgMember" title="Organization member" style="display:none;">
            <fieldset class="ui-helper-reset">
                <label for="editOrgMemberEmail">User Email / Identifier</label>
                <br> Please enter user Email
                <input placeholder="Enter valid email" type="email" id="editOrgMemberEmail" required style="width:100%;" value="" class="ui-widget-content ui-corner-all">
                <br>
                <br>
                <label for="editOrgMemberSecret">User Secret</label>
                <br> Please enter user Secret
                <button id="editOrgMemberShowPassword" style="float:right">Show/hide secret</button>
                <br>
                <br>
                <input type="password" id="editOrgMemberSecret" style="width:100%;" value="" class="ui-widget-content ui-corner-all">
                <br />
            </fieldset>

        </div>
        <div id="dialog-confirm-remove-tab" style="display:none;" title="Delete not saved Form?">
            <p>
                <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Form has not been saved. Are you sure you want to delete it?</p>
        </div>
        <div id="dialog-confirm-remove-fillertab" style="display:none;" title="Close not saved Form?">
            <p>
                <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Data has not been saved. Are you sure you want to close it without submitting or saving to Work folder?</p>
        </div>
        <div id="dialog-confirm-remove-field" style="display:none;" title="Delete field?">
            <p>
                <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Are You sure?</p>
        </div>
        <div id="dialog-confirm" style="display:none;" title="Are You sure?">
            <p>
                <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>
                <span id="dialog-confirm-text">Are You sure?</span>
            </p>
        </div>
        <div id="dialog-input" style="display:none;" title="Please input text?">
            <p>
                <span class="ui-icon ui-icon-info" style="float:left; margin:0 7px 20px 0;"></span>
                <span id="dialog-input-text">Text?</span>
            </p>
            <p>
                <input type="text" style="width:100%;" id="dialog-input-inputedtext" maxlength=1000>
            </p>
        </div>
        <div id="dialog-validation-ok" style="display:none;" title="Validation OK">
            <p>
                <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span> Validation is Success!
            </p>
            <p>
                Form is
                <b>filled out correctly</b>.
            </p>
        </div>
        <div id="dialog-alert" style="display:none;" title="Alert">
            <p>
                <span class="ui-icon ui-icon-alert" style="float:left; margin:0 2px 2px 0;"></span>
                <span id="dialog-alert-text"></span>
            </p>
        </div>
        <div id="dialog-modal-form" style="display:none;" title="Form">
            <div id="dialog-modal-form-placeholder"></div>
        </div>
        <div id="dialog-validation-failed" style="display:none;" title="Warning!">
            <p>
                <span class="ui-icon ui-icon-alert" style="float:left; margin:0 5px 2px 0;"></span> Validation Failed!
            </p>
            <p>
                Form is
                <b>not correctly filled out</b>.
            </p>
        </div>
        <div id="exportDialog" style="display:none;" title="Choose Export Type">

            <form>
                <fieldset class="ui-helper-reset">
                    <div>
                        <input id="exportRowStyle" type="radio" name="exportStyle" style="cursor:pointer;" value="0" checked />
                        <label style="cursor:pointer;" for="exportRowStyle">
                            <img src="../icons/export-rows.png" style="padding-right:20px;cursor:pointer;">Form data in multiple rows. Easier to manage with SQL language.</label>
                        <br/>
                        <input id="exportColumnStyle" type="radio" name="exportStyle" style="cursor:pointer;" value="1" />
                        <label style="cursor:pointer;" for="exportColumnStyle">
                            <img src="../icons/export-columns.png" style="padding-right:20px;cursor:pointer;">One row for Form, fieled names are in column headers. Easier to read by human.</label>
                    </div>
                    <br />
                </fieldset>
            </form>
        </div>

        <div id="maintabs">

            <ul>
                <li>
                    <a href="#maintabs-1">Form & workflow editor</a>
                </li>
                <li>
                    <a href="#maintabs-2">Publisher</a>
                </li>
                <li>
                    <a href="#maintabs-3">Filler</a>
                </li>
                <li>
                    <a href="#maintabs-4">Data collection</a>
                </li>
                <li>
                    <a href="#maintabs-5">Settings</a>
                </li>
                <li>
                    <a href="#maintabs-6">About</a>
                </li>
            </ul>
            <div id="maintabs-1" class="fixmyheight">
                <div class="row" style="height:100%;">
                    <div class="col-sm-2" style="height:100%;">
                        <button style="width:100%;margin-bottom:10px;" id="add_form">Create Form</button>

                        <button style="width:100%;" id="open_form">Open Form</button>
                        <hr />
                    </div>
                    <div class="col-sm-10" style="height:100%;">
                        <div id="tabs" style="background-image:url('../icons/DesignerGray.png');background-repeat: no-repeat;background-position: center center;height:90%;">
                            <ul></ul>
                        </div>
                    </div>



                </div>
            </div>

            <div id="maintabs-2" class="fixmyheight">

                <div style="height:100%;">
                    <div class="row" style="height:100%;">
                        <div class="col-sm-4" style="height:100%;">
                            <div class="row" style="height:4%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <label for="prepublishList">Prepublished forms folder</label>
                                    <img src="../icons/arrow-right.png" style="padding-left:15px;height:24px;">
                                </div>
                            </div>
                            <div class="row" style="height:7%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <button id="button2Publish" style="float:right;">Move</button>
                                    <button id="buttonDeletePrepublished" style="float:right;">Delete</button>
                                    <button id="buttonEditPrepublished" style="float:right;">Edit</button>
                                </div>
                            </div>
                            <div class="row" style="height:89%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <div id="prepublishList" style="height:100%;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4" style="text-align:center;height:100%;">
                            <div class="row" style="height:4%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <label for="publishList">Published forms and commands folder</label>
                                    <img src="../icons/arrow-right.png" style="padding-left:15px;height:24px;">
                                </div>
                            </div>
                            <div class="row" style="height:7%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <button id="button2Prepublish" style="float:left">Move</button>
                                    <button id="buttonPublish" style="float:right;">Create packages</button>
                                </div>
                            </div>
                            <div class="row" style="height:7%;">
                                <div class="col-sm-4" style="height:100%;">
                                    <select style="width:100%;" id="commandAddCommandSelectCommand">
                                        <option>
                                            < Cmd to add>
                                        </option>
                                        <option value="empty">Empty command</option>
                                        <option value="delete">Delete all local copies from publisher</option>
                                        <option value="text">Send text message</option>
                                    </select>
                                </div>
                                <div class="col-sm-1" style="height:100%;">
                                    to
                                </div>
                                <div class="col-sm-4" style="height:100%;">
                                    <select id="commandAddCommandSelectUser">
                                    </select>
                                </div>
                                <div class="col-sm-3" style="height:100%;">
                                    <button style="width:100%;" id="buttonAddCommand" style="float:right;">Add</button>
                                </div>
                            </div>

                            <div class="row" style="height:82%;">
                                <div class="col-sm-12" style="text-align:center;height:100%;">
                                    <div id="publishList" style="height:100%;text-align:left;">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-4" style="height:100%;">
                            <div class="row" style="height:4%;">
                                <div class="col-sm-12" style="height:100%;text-align:right;">
                                    <label for="outboxList">Ready packages</label>
                                    <img src="../icons/arrow-right-internet.png" style="padding-left:15px;height:24px;float:right">
                                </div>
                            </div>
                            <div class="row" style="height:7%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <button id="buttonClearOutbox" style="float:right;">Clear all packages</button>
                                    <button id="buttonSendPackages" style="float:right;">Publish packages</button>
                                </div>
                            </div>
                            <div class="row" style="height:89%;">
                                <div class="col-sm-12" style="height:100%;">
                                    <div id="readyList" style="height:100%;">

                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>


                </div>
            </div>
            <div id="maintabs-3" class="fixmyheight">
                <div class="row" style="height:100%">
                    <div class="col-sm-2" style="height:100%" class="fixmyheight">
                        <button style="width:100%;" id="btnSendRecieve">Send / Recieve</button>
                        <hr />
                        <ul id="fillerTree" style="width:100%;padding-left:0px;">

                            <li style="width:100%">
                                <a style="width:100%" href="#">
                                    <strong>Published to me</strong>
                                </a>
                                <ul id="fillerTreePublishedToMe">
                                    <li>
                                        <a style="width:100%" href="#">Publisher 1</a>
                                        <ul>
                                            <li>Test1</li>
                                            <li>tewt</li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a style="width:100%" href="#">Publisher 2</a>
                                        <ul>
                                            <li>Test1</li>
                                            <li>tewt</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li style="width:100%">
                                <a style="width:100%" href="#FillerVtabs-2">
                                    <strong>Recieved from other employees</strong>
                                </a>
                                <ul id="fillerTreeRecieved">
                                    <li>Test1</li>
                                    <li>tewt</li>
                                </ul>
                            </li>
                            <li style="width:100%">
                                <a style="width:100%" href="#FillerVtabs-3">
                                    <strong>Work / half-filled</strong>
                                </a>
                                <ul id="fillerTreeWork">
                                    <li>Test1</li>
                                    <li>tewt</li>
                                </ul>
                            </li>
                            <li style="width:100%">
                                <a style="width:100%" href="#FillerVtabs-3">
                                    <strong>Outbox</strong>
                                </a>
                                <ul id="fillerTreeMyOutbox">
                                    <li>Test1</li>
                                    <li>tewt</li>
                                </ul>
                            </li>
                            <li style="width:100%">
                                <a style="width:100%" href="#FillerVtabs-3">
                                    <strong>Sent forms</strong>
                                </a>
                                <ul id="fillerTreeSent">
                                    <li>Test1</li>
                                    <li>tewt</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="col-sm-10" style="height:100%;">
                        <div id="Fillertabs">
                            <ul>
                                <li>
                                    <a href="#Fillertabstabs-1">Welcome!</a>
                                    <span class='ui-icon ui-icon-close' role='presentation'>Remove Tab</span>
                                </li>
                            </ul>
                            <div id="Fillertabstabs-1" class="fixmyheight" style="background-image:url('../icons/FillerGray.png');background-repeat: no-repeat;background-position: center center;height:90%;">

                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div id="maintabs-4" class="fixmyheight">
                <div id="collectortabs">
                    <ul>
                        <li>
                            <a href="#collectortabs-1">Collected data</a>
                        </li>
                        <li>
                            <a href="#collectortabs-2">Sent data</a>
                        </li>
                        <li>
                            <a href="#collectortabs-3">Recived status broadcasts</a>
                        </li>
                    </ul>
                    <div id="collectortabs-1" class="fixmyheight">
                        <!-- here we look in database folder -->
                        <p>This is list of
                            <strong>finshed Forms</strong> in your database. You can export them to spreadsheet or external database.</p>
                        <button id="buttonCollectorExportFormData">Export data</button>
                        <button id="buttonCollectorDeleteFormData">Delete data</button>

                        <div id="jsGridCollectedData"></div>
                    </div>
                    <div id="collectortabs-2" class="fixmyheight">
                        <!-- here we look in sent folder -->
                        <p>This is list of forms
                            <strong>that you have sent</strong> which have "Allowed local copies" property set.</p>
                        <button id="buttonCollectorExportSentFormData">Export data</button>
                        <button id="buttonCollectorDeleteSentFormData">Delete data</button>
                        <div id="jsGridSentData"></div>
                    </div>
                    <div id="collectortabs-3" class="fixmyheight">
                        <!-- here we look in recievedbroadcasts folder -->
                        <p>Here you can watch over Workflows and DataChief in general. You have
                            <strong>Graphical view</strong> where you can graphically see Form Workflow and info, and
                            <strong>Forms list</strong> view which is list of forms that have been broadcast to you.</p>
                        <div id="collectorRecievedBroadcastsTabs">
                            <ul>
                                <li>
                                    <a href="#collectorRecievedBroadcastsTabs-1">Graphical View</a>
                                </li>
                                <li>
                                    <a href="#collectorRecievedBroadcastsTabs-2">Forms list</a>
                                </li>
                            </ul>
                            <div id="collectorRecievedBroadcastsTabs-1" class="fixmyheight">
                                <p style="float:left;">Please choose form:&nbsp;&nbsp;&nbsp;</p>
                                <select id="selectCollectorChooseForm" style="min-width:250px;width:250px;float:left;">
                                    <option value="-1">
                                        <- Choose Form ->
                                    </option>
                                </select>
                                <style>
                                    #svgGraph g foreignObject {
                                        color: black;
                                    }

                                    #svgGraph1 g foreignObject {
                                        color: black;
                                    }
                                </style>
                                <div id="graphDiv">

                                </div>

                            </div>
                            <div id="collectorRecievedBroadcastsTabs-2" class="fixmyheight">
                                <button id="buttonCollectorExportBroadcastFormData">Export data</button>
                                <button id="buttonCollectorDeleteBroadcastFormData">Delete data</button>
                                <div id="jsGridRecievedBroadcastsData"></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div id="maintabs-5" class="fixmyheight">
                <div class="row">
                    <div class="col-sm-12">
                        <fieldset id="profileField">
                            <legend>Profile:</legend>
                            <div id="profileFieldDesignerDiv">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <select id="selectActiveProfile" style="min-width:250px;float:left;"></select>
                                        <button style="float:right;" id="addRemoveCaseStudyProfiles">Add Barrique Works LLC Case study Profiles</button>
                                        <button style="float:left;" id="deleteProfile" onclick="">Delete Profile</button>
                                        <br>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">

                                    <fieldset id="settingsField">
                                        <legend>User information</legend>
                                        <p>Enter your email and Name</p>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsEmail">Your Email: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="email" disabled class="datachiefFieldText" id="textSettingsEmail" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsName">Your name: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="text" class="datachiefFieldText" id="textSettingsName" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsNameComment">Comment: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <textarea id="textSettingsNameComment" rows="2" class="datachiefFieldText"></textarea>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsUSerSecret">Your secret: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="password" class="datachiefFieldText" id="textSettingsUSerSecret" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsUSerSecret1">Repeat Your secret: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="password" class="datachiefFieldText" id="textSettingsUSerSecret1" />
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>

                                <div class="col-sm-6">
                                    <fieldset id="IMAPSettings">
                                        <legend>IMAP Settings</legend>
                                        <p>IMAP is used for managing mailbox folder</p>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsIMAPUsername">IMAP Username: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="email" class="datachiefFieldText" id="textSettingsIMAPUsername" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsIMAPPassword">IMAP Password: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="password" class="datachiefFieldText" id="textSettingsIMAPPassword" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsIMAPServer">IMAP Server: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="text" class="datachiefFieldText" id="textSettingsIMAPServer" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsIMAPServerPort">Server port: </label>
                                            </div>
                                            <div class="col-sm-4">
                                                <input type="number" min="0" max="65535" class="datachiefFieldText" id="textSettingsIMAPServerPort" />
                                            </div>

                                            <div class="col-sm-2">
                                                <label for="textSettingsIMAPRequiresSSL">Requires SSL: </label>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="checkbox" class="datachiefFieldText" id="textSettingsIMAPRequiresSSL" />
                                            </div>
                                        </div>

                                    </fieldset>

                                    <fieldset style="display:none;" id="SMTPSettings">
                                        <legend>SMTP Settings</legend>
                                        <p>SMTP is used for sending Emails</p>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsSMTPRequiresAuthentication">SMTP Requires authentication: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="checkbox" class="datachiefFieldText" id="textSettingsSMTPRequiresAuthentication" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="textSettingsSMTPUsername">SMTP Username: </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <input type="email" class="datachiefFieldText" id="textSettingsSMTPUsername" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <label for="textSettingsSMTPPassword">SMTP Password: </label>
                                            </div>
                                            <div class="col-sm-3">
                                                <input type="password" class="datachiefFieldText" id="textSettingsSMTPPassword" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <label for="textSettingsSMTPServer">SMTP Server: </label>
                                            </div>
                                            <div class="col-sm-3">
                                                <input type="text" class="datachiefFieldText" id="textSettingsSMTPServer" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <label for="textSettingsSMTPServerPort">Server port:</label>
                                            </div>
                                            <div class="col-sm-3">
                                                <input type="number" min="0" max="65535" class="datachiefFieldText" id="textSettingsSMTPServerPort" />
                                            </div>
                                            <div class="col-sm-3">
                                                <label for="textSettingsSMTPRequiresSSL">Requires SSL: </label>
                                            </div>
                                            <div class="col-sm-3">
                                                <input type="checkbox" class="datachiefFieldText" id="textSettingsSMTPRequiresSSL" />
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <fieldset id="settingsOrg">
                            <legend>Organization</legend>
                            <p>Important info about your organization</p>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsOrganization">Comapny or Organization: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="text" class="datachiefFieldText" id="textSettingsOrganization" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsOrganizationSecret">Organization secret: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="password" class="datachiefFieldText" id="textSettingsOrganizationSecret" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label for="textSettingsOrganizationSecret1">Repeat organization secret: </label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="password" class="datachiefFieldText" id="textSettingsOrganizationSecret1" />
                                </div>
                            </div>
                            <hr>
                        </fieldset>


                    </div>
                    <div class="col-sm-6">
                        <fieldset id="settingsApp" >
                            <legend>Behavior</legend>
                            <p>Data Chief config</p>
                            <div class="row" style="display:none">
                                <div class="col-sm-4">
                                    <label for="checkboxSettingsSingleAccount">Use single IMAP account for everything </label>
                                </div>
                                <div class="col-sm-8">
                                    <input disabled="disabled" type="checkbox" onchange="userSettings.singleAccountToggle()" class="datachiefFieldText" id="checkboxSettingsSingleAccount"
                                    />
                                </div>
                            </div>
                            <div class="row" style="display:none">
                                <div class="col-sm-4">
                                    <label for="checkboxSettingsTakeOnlyOne">Take only one message</label>
                                </div>
                                <div class="col-sm-8">
                                    <input type="checkbox" class="datachiefFieldText" id="checkboxSettingsTakeOnlyOne" />
                                </div>
                            </div>
                            <div class="row" id="settingsTestScriptsRow">
                                <div class="col-sm-4">
                                    <label for="buttonRunScripts">Run script:</label>
                                </div>
                                <div class="col-sm-8">
                                    <select id="buttonRunScripts">
                                        <option value="">
                                            <-- choose -->
                                        </option>
                                        <option value="runalltests">Delete data & Run all scanarios</option>
                                        <option value="runtestcarlog">Run Car Usage Log</option>
                                        <option value="runtestabsence">Run Absence Form</option>
                                        <option value="runtestqm">Run Quality Management</option>
                                        <option value="runresetdb">Delete all data on published and recieved</option>
                                        <option value="runresetall">Delete all & reset configuration data</option>
                                    </select>
                                </div>
                            </div>



                        </fieldset>

                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <br>
                        <div style="float:right;">
                        <button id="resettings" onclick="userSettings.toGui();">Reset</button>&nbsp;
                        <button id="savesettings" onclick="userSettings.fromGui();userSettings.save();">Apply</button>
                        <button id="startStartWizerd" onclick="index.startWizard();">Start Wizard</button>
                    </div>
                    </div>
                </div>
            </div>
            <div id="maintabs-6" class="fixmyheight">
                <div class="row">
                    <div class="col-sm-3" style="text-align:center">
                        <img src="../icons/Filler.png" style="height:256px;padding-bottom:24px;padding-top:24px;" />
                        <br>
                        <p>Version:
                            <strong id="about_ver">.</strong>
                        </p>
                        <p>Author:
                            <strong id="about_author">.</strong>
                        </p>
                        <p>Released under:
                            <a href="https://github.com/iivanic/DataChief/blob/master/LICENSE" target="_blank">
                                <strong id="about_lic">.</a>
                            </strong>
                        </p>
                        <p>Get the source code
                            <a href="http://www.github.com/iivanic/datachief" target="_blank">
                                <strong>from GitHub</strong>
                            </a>.</p>
                    </div>
                    <div class="col-sm-9">
                        <div id="abouttabs">
                            <ul>
                                <li>
                                    <a href="#abouttabs-1">About</a>
                                </li>
                                <li>
                                    <a href="#abouttabs-2">Case Study</a>
                                </li>
                            </ul>
                            <div id="abouttabs-1" class="fixmyheight">
                                <p id="description">...</p>
                            </div>
                            <div id="abouttabs-2" class="fixmyheight">
                                <p id="casestudy">...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div id="logrow" style="height:30px;width:100%;font-weight:bold;background-color:white;border: 1px solid silver;padding-right:15px;padding-left:15px;padding-top:2px;">
            <div class="row" style="height:100%;">

                <div class="col-sm-9" style="height:100%;">
                    <span class="ui-icon ui-icon-arrow-1-n" id="expandlog" title="Click to expand/collapse" style="float:left;"></span>
                    <div id="logList" style="margin-left:40px;height:100%;overflow:auto; border: 1px dashed silver;">

                    </div>
                </div>

                <div class="col-sm-3">
                    <div style="width:100%;">
                        <div id="progressbar" style="height:25px;"></div>
                    </div>
                </div>

                <div class="col-sm-3" id="sendingpanel" style="height:100px;display:none;">
                    <div class="row" style="height:25px;">
                        <div class="col-sm-12" style="height:100%;text-align:right;">
                            <img src="../icons/Internet-icon.png" style="padding-left:15px;height:24px;float:right">
                            <label for="outboxList">Outbox (sending folder)...</label>
                        </div>
                    </div>
                    <div class="row" style="height:75px;">
                        <div class="col-sm-12" style="height:100%;">
                            <div id="outboxList" style="height:100%;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



</body>


</html>