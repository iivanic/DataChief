<html>

<head>
    <link rel="stylesheet" href="./jquery-ui-1.11.4/jquery-ui.css">
    <link rel="stylesheet" href="./datachief.css">

    <script>
        window.$ = window.jQuery = require('./jquery-ui-1.11.4/external/jquery/jquery.js');
        require('./jquery-ui-1.11.4/jquery-ui.min.js');
        var index = require("./index.js");
        
        
        var fieldBase=require("./objectmodel/fieldBase.js");
       var textField=require("./objectmodel/textField.js");

        $( document ).ready(function() {
          //  alert(1);
            $("#test").click(
                function(e){
                    var ctlb = Object.create(fieldBase);
                    ctlb.ctor();                 
                    console.log(ctlb.id);                    
                    var ctlt = Object.create(textField);
                    ctlt.ctor();                 
                    console.log(ctlt.id);                    
                    var ctlt1 = Object.create(textField);
                    ctlt1.ctor();                 
                    console.log(ctlt1.id);                    
                    console.log("..................");                    
                }
            );
        });
    </script>

    <script>
        $(function() {
    var tabTitle = $( "#tab_title" ),
      tabContent = $( "#tab_content" ),
      tabTemplate = "<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close' role='presentation'>Remove Tab</span></li>",
      tabCounter = 2;
 
    var tabs = $( "#tabs" ).tabs();
 
    // modal dialog init: custom buttons and a "close" callback resetting the form inside
    var newFormDialog = $( "#newFormDialog" ).dialog({
      autoOpen: false,
      modal: true,
      buttons: {
        Create: function() {
          addTab();
          $( this ).dialog( "close" );
        },
        Cancel: function() {
          $( this ).dialog( "close" );
        }
      },
      close: function() {
        form[ 0 ].reset();
      }
    });
 
    // addTab form: calls addTab function on submit and closes the dialog
    var form = newFormDialog.find( "form" ).submit(function( event ) {
      addTab();
      newFormDialog.dialog( "close" );
      event.preventDefault();
    });
 
    // actual addTab function: adds new tab using the input from the form above
    function addTab() {
      var label = tabTitle.val() || "Tab " + tabCounter,
        id = "tabs-" + tabCounter,
        li = $( tabTemplate.replace( /#\{href\}/g, "#" + id ).replace( /#\{label\}/g, label ) ),
        tabContentHtml = tabContent.val() || "Tab " + tabCounter + " content.";
 
      tabs.find( ".ui-tabs-nav" ).append( li );
      tabs.append( "<div id='" + id + "'><p>" + tabContentHtml + "</p></div>" ).index;
var index = $('#' + id).index() - 1;
console.log("index=" + index);
         tabs.tabs( "refresh" );
      
        tabs.tabs("option", "active", index);;
      
 
    tabCounter++;

    }
 
    // addTab button: just opens the dialog
    $( "#add_form" )
      .button()
      .click(function() {
        newFormDialog.dialog( "open" );
      });
    $( "#open_form" )
      .button()
      .click(function() {
        alert( "open" );
      });
    // close icon: removing the tab on click
    tabs.delegate( "span.ui-icon-close", "click", function() {
      var panelId = $( this ).closest( "li" ).remove().attr( "aria-controls" );
      $( "#" + panelId ).remove();
      tabs.tabs( "refresh" );
    });
 
    tabs.bind( "keyup", function( event ) {
      if ( event.altKey && event.keyCode === $.ui.keyCode.BACKSPACE ) {
        var panelId = tabs.find( ".ui-tabs-active" ).remove().attr( "aria-controls" );
        $( "#" + panelId ).remove();
        tabs.tabs( "refresh" );
      }
    });
  });
    </script>

</head>

<body>
    <div>

        <div id="newFormDialog" title="New Form">
            <form>
                <fieldset class="ui-helper-reset">
                    <label for="tab_title">Name</label>
                    <input type="text" name="tab_title" id="tab_title" value="New Form" class="ui-widget-content ui-corner-all">
                    <label for="tab_content">Description</label>
                    <textarea name="tab_content" id="tab_content" class="ui-widget-content ui-corner-all">Form description...</textarea>
                </fieldset>
            </form>
        </div>

        <button id="add_form">Create Form</button>
        <button id="open_form">Open Form</button>

        <div id="tabs">
            <ul>
                <li><a href="#tabs-1" id="header">Welcome</a> </li>
            </ul>
            <div id="tabs-1">
                <p id="description">...</p>
            </div>
        </div>
 

    </div>
</body>

</html>